<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventário RT Web </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">

</head>
<body>

    <div class="dashboard-container">
        
        <nav class="navbar-top">
            <div style="display: flex; align-items: center;">
                <button class="btn" style="background: none; color: white;" id="sidebarToggle" aria-label="Toggle menu">
                </button>
                <div class="logo-text">
                    <img src="../assets/images/logo-negativo.svg" alt="logo R.T. WEB"> <!-- Nnao entendi o motivo, mas o caminho ficou assim quando usei o public--> 
                </div>
            </div>
            <div>
                <button class="btn" style="background: none; color: white;" aria-label="Notificações">
                    <img src="../assets/images/bell.svg" alt="Notificações">
                </button>
                <button class="btn" style="background: none; color: white;" aria-label="Notificações">
                        <img src="../assets/images/menu.svg" alt="Menu">
                </button>
            </div>
        </nav>

        <aside class="sidebar" id="sidebarMenu">
            <nav>
                <ul class="sidebar-menu pt-4"> 
                    <li>
                        <a href="#">
                            <i class="fas fa-tachometer-alt"></i> <span class="link-text">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-box-open"></i> <span class="link-text">Gestão do estoque</span>
                        </a>
                    </li>
                    <li>
                        <a class="active" aria-current="page" href="#">
                            <i class="fas fa-warehouse"></i> <span class="link-text">Inventário</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-history"></i> <span class="link-text">Histórico</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-bell"></i> <span class="link-text">Notificações</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-cog"></i> <span class="link-text">Configurações</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <a class="sidebar-menu-item" href="#" style="display: flex; justify-content: center; text-decoration: none;">
                    <i class="fas fa-sign-out-alt"></i> <span class="link-text" style="margin-left: 10px; color: var(--secondary-text-color);">Sair</span>
                </a>
            </div>
        </aside>

        <main class="main-content" id="mainContent">

            <div class="bread-crumb"> 
                <button class="btn" style="background: none; color: white;" aria-label="Notificações">
                    <img src="../assets/images/back.svg" alt="Voltar para página anterior">
                </button>
            <h1>Inventário</h1>
            </div>



            <div class="filter-row">
                <div class="input-group" style="max-width: 350px;">
                    <input type="text" placeholder="Procurar por um item" aria-label="Procurar por um item">
                    <button class="find-button" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <select style="max-width: 200px;" aria-label="Tipo de produto">
                    <option selected>Tipo de produto</option>
                    <option value="1">Alimentos</option>
                    <option value="2">Eletrônicos</option>
                </select>
                <button class="btn btn-accent">Buscar</button>
            </div>

            <div class="card">
                <div style="overflow-x: auto;">
                    <table class = 'table-inventory'>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <!-- <th>Marca</th> -->
                                <th>Estoque Atual</th>
                                <th>Unidade</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% produtos.forEach(produto => { %>
                                <tr data-id="<%= produto.id_produto %>">
                                    <td><%= produto.id_produto %></td>
                                    <td><%= produto.nomeProduto %></td>
                                    <!-- <td><%= produto.marca %></td> -->
                                    <td><strong id="estoque-<%= produto.id_produto %>"><%= produto.dataValues.estoqueTotal || 0 %></strong></td>
                                    <td><%= produto.tipoUnidade %></td>
                                    <td>
                                        <button class="btn-edit" onclick="openEditModal(<%= produto.id_produto %>)">Editar</button>
                                    </td>
                                </tr>
                            <% }); %>
                            <% if (produtos.length === 0) { %>
                                <tr><td colspan="6">Nenhum produto cadastrado.</td></tr>
                            <% } %>
                        </tbody>
    </table>
                </div>
            </div>

            <div class="action-footer">
                <button class="btn btn-link">Excluir item</button>
                <button class="btn btn-primary">Salvar alterações</button>
            </div>
        </main>
    </div>
    <script src="/js/main.js"></script>
    <script>
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            const body = document.body;
            // A classe 'sidebar-collapsed' manipula o CSS Grid para o efeito retrátil
            body.classList.toggle('sidebar-collapsed');
        });
    </script>
</body>
</html>
